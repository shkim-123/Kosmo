
<html>
<meta charset="UTF-8">
<head>
	<script src="jquery-1.11.0.min.js"></script>
	<script>
		//**********************************************
		//$(document).ready(   function(){자스코딩}  );
		//**********************************************
		// body 태그 안의 요소들을 읽어들인 후 익명함수 내부의 자스코딩을 실행.
		$(document).ready(function(){

			//-------------------------------------------
			// <1> 변수 hobby_all_chk 선언, name="hobby_all" 인 JQuery 객체의 메위주 저장
			// <2> 변수 hobby_chk 선언, name="hobby" 인 JQuery 객체의 메위주 저장
			//-------------------------------------------
			var hobby_all_chk = $("[name='hobby_all']");	// <1>
			var hobby_chk = $("[name='hobby']");			// <2>

			//-------------------------------------------
			// hobby_all_chk에 change() 이벤트가 발생했을 경우	
			// 전체 체크박스 눌렀을 때 전체 체크박스 처리
			//-------------------------------------------
			hobby_all_chk.change(function() {
				var isChecked = $(this).prop("checked");

				if(isChecked) {
					hobby_chk.prop("checked", true);
				} else {
					hobby_chk.prop("checked", false);
				}

				//-------------------------------------------
				// 위 코드는 아래와 같이 코딩할 수 있다.
				//-------------------------------------------
				// hobby_chk.prop("checked", $(this).prop("checked"));
			});

			//-------------------------------------------
			// hobby_chk에 change() 이벤트가 발생했을 경우
			// 전체 체크된 경우 전체 체크박스 표시됨
			//-------------------------------------------
			hobby_chk.change(function() {
				var cnt = 0;

				hobby_chk.each(function(i){
					if($(this).prop("checked")) {
						cnt++;
						hobby_all_chk.prop("checked", false);
					} 
					if(cnt == hobby_chk.length) {
						hobby_all_chk.prop("checked", true);
					}
				});
				
				//-------------------------------------------
				// 위 코드는 아래와 같이 코딩할 수 있다.
				//-------------------------------------------
				// hobby_all_chk.prop("checked", hobby_chk.filter(":checked").length == hobby_chk.length);
			});

			//-------------------------------------------
			// 테이블에 번호 추가하기
			//-------------------------------------------
			var tableObj = $(".dogList");

			tableObj.find("tr").each(function(i) {
				var index = $(this).index();

				if(index == 0) {
					$(this).prepend("<th bgcolor='gray'>번호</th>");
				} else {
					$(this).prepend("<td>"+index+"</td>");
				}
			});

		});
	</script>
</head>
<body><center>
	<hr>
	<input type="checkbox" name="hobby_all" >전체
	<hr>
	<input type="checkbox" name="hobby" value="독서">독서<br>
	<input type="checkbox" name="hobby" value="운동">운동<br>
	<input type="checkbox" name="hobby" value="여행">여행<br>
	<input type="checkbox" name="hobby" value="수집">수집

	<hr>

	<table class="dogList" border=1 cellpadding=4 style="border-collapse: collapse;">
		<tr><th bgcolor="gray">개이름</th></tr>
		<tr><td>진돗개</td></tr>
		<tr><td>셰퍼드</td></tr>
		<tr><td>비글</td></tr>
		<tr><td>삽살개</td></tr>
		<tr><td>풍산개</td></tr>
	</table>
</body>

</html>


