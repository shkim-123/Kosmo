<html>
<meta charset="UTF-8">
<head>
	<title>로그인화면</title>
	<!-------------------------------------------------------->
	<!-- jquery-1.11.0.min.js 파일안의 자스코딩을 수입해서 script 태그 안에 삽입하기-->
	<!-- common_func.js 파일안의 자스코딩을 수입해서 script 태그 안에 삽입하기-->
	<!-------------------------------------------------------->
	<script src="jquery-1.11.0.min.js"></script>
	<script src="common_func.js"></script>

	<!-------------------------------------------------------->
	<!-- script 태그 선언. script 태그는 자바스크립트 세상이다.-->
	<!-------------------------------------------------------->
	<script>
		//--------------------------
		// 유저가 입력한 아이디와 암호의 유효성을 체크할 checkForm 함수 선언
		//--------------------------
		function checkForm() {
			/*
			//--------------------------
			// <1> uid 변수 선언, class="uid" 인 태그의 JQuery 객체 생성, 
			//	리턴된 JQuery 객체 메위주로 val() 메서드 호출하여 value 값 가져와서 대입
			// <2> pwd 변수 선언, class="pwd" 인 태그의 JQuery 객체 생성, 
			//	리턴된 JQuery 객체 메위주로 val() 메서드 호출하여 value 값 가져와서 대입 
			//--------------------------
			var uid = $(".uid").val();		// <1>		
			var pwd = $(".pwd").val();		// <2>
			alert("uid : " + uid + " /  pwd :" + pwd);
			*/
				
			//--------------------------
			// <1> 변수 uid 선언, 입력한 아이디를 얻어서 변수 uid 에 저장하기
			//	class=uid 를 가진 태그를 관리하는 JQuery 객체 생성하고, val() 메소드 호출로
			//	웹브라우저 상에 입력한 아이디를 가져와 리턴하기
			// <2> 변수 pwd 선언, 입력한 비밀번호를 얻어서 변수 pwd 에 저장하기
			//	class=pwd 를 가진 태그를 관리하는 JQuery 객체 생성하고, val() 메소드 호출로
			//	웹브라우저 상에 입력한 암호를 가져와 리턴하기
			//--------------------------
			var uid = $(".uid").val();			// <1>
			var pwd = $(".pwd").val();			// <2>

			// 만약에 유저가 입력한 아이디가 비어있거나 공백으로 이루어져 있으면
			// isEmpty 함수 호출하여 true를 리턴 받으면, 즉 비어있거나 공백으로 이루어져 있으면
			if( isEmpty(uid) ) {
				// 경고 상자 띄우기
				alert("아이디가 비어 있음. 입력 바람");
				// 함수 중단. 이후 코딩은 실행되지 않는다
				return; 
			} 

			// 만약에 유저가 입력한 암호가 비어있거나 공백으로 이루어져 있으면
			if( isEmpty(pwd) ) {
				// 경고 상자 띄우기
				alert("암호가 비어 있음. 입력 바람");
				// 함수 중단. 이후 코딩은 실행되지 않는다
				return;
			}

			// DB 연동 대신 uid, pwd 체크
			// 만약에 아이디가 abc고 암호가 123 이면
			if( uid == "abc" && pwd == "123" ) {
				
				// confirm() 확인 버튼 누를 경우 true 리턴, 취소 버튼은 false 리턴
				// confirm() 내장 함수가 경고상자를 띄울 때는 프로그램이 잠시 중단되고, 선택하면 실행된다
				if( confirm("로그인 할까요?") ) {
					// form 태그의 설정한 서버쪽 URL 주소로 서버로 접근하기
					// 즉, 새로운 페이지 열기
					document.loginForm.submit();
				}

			} else {
				alert("아이디 또는 암호가 맞지 않습니다. 다시 입력해 주십시오.");
				//--------------------------
				// <1> 아이디 입력란 비우기
				//	class=uid 를 가진 태그를 관리하는 JQuery 객체 생성하고, val("") 메소드 호출로
				//	웹브라우저 상 아이디 입력란에 "" 삽입하기
				// <2> 암호 입력란 비우기
				//	class=pwd 를 가진 태그를 관리하는 JQuery 객체 생성하고, val("") 메소드 호출로
				//	웹브라우저 상 암호 입력란에 "" 삽입하기	
				//--------------------------
				$(".uid").val("");		// <1>
				$(".pwd").val("");		// <2>
			}

		}

		//--------------------------
		// body 태그 안의 모든 태그를 읽어들인 이후 실행할 코드를 설정하기
		// $() 함수를 호출하며 매개변수로 document 객체의 메위주를 던져준 것이다.
		// $() 함수의 리턴값은 JQuery 객체의 메위주이다.
		// ready() 함수의 매개변수는 익명함수 즉 자료형이 함수형인 데이터이다.
		//--------------------------
		$(document).ready(
			function() {
				//--------------------------
				// 로그인 버튼을 클릭하면 checkForm 함수가 호출되도록 하기
				// <1> obj 변수 선언, class="login_btn"를 가진 태그를 관리하는 JQuery 객체 생성해서 
				//		JQuery 객체의 메위주를 변수 obj에 저장하기
				// <2> JQuery click 메소드를 호출하여 JQuery 객체가 관리하는 태그를 클릭하면
				//		매개변수로 던져준 익명함수 호출하기
				// 이벤트가 발생하면 특정 코딩을 실행하는 것을 이벤트 설정이라 말한다.
				// <3> checkForm 함수 호출
				//--------------------------
				// var obj = $(".login_btn");	// <1>
				$(".login_btn").click(			// <2>
					function(){
						checkForm();			// <3>
					}
				);
				
				//--------------------------
				// 회원가입 글씨를 클릭하면 회원가입 화면(=memberRegForm.html) 열기
				// <1> class=regMember_btn 를 가진 태그를 관리하는 JQuery 객체를 생성해서
				// JQuery 객체의 click(~) 메소드를 호출하여
				// JQuery 객체가 관리하는 태그를 클릭하면 매개변수로 던져준 익명함수 호출하기
				// <2> 회원가입 화면(=memberRegForm.html) 열기
				//--------------------------
				$(".regMember_btn").click(							// <1>			
					function(){
						location.replace("memberRegForm.html");		// <2>
					}
				);
			}
		);
	</script>

</head>

<body>
<center><br><br><br>

	<!--  주석  -->
	
	<form name="loginForm" action="boardList.html">
		<!-------------------------------------------------------->
		<table border=0 cellpadding=4>
		<!-------------------------------------------------------->
			<tr>
				<th>
					[로그인]
				</th>
			</tr>
			<tr>
				<td align=center>
					<!-------------------------------------------------------->
					<table border=1 style="border-collapse:collapse" cellpadding=5 bordercolor="lightgray">
					<tr>
						<td align="right" bgcolor="#E9E9E9">아이디</td>
						<td>
							<!---input put put----------------------------------------------------->
							<input type="text" name="uid" class="uid" size=10>
							<!-- name: DB 서버로 날라감, class" DB 서버로 안날라감, 선택자로 사용할 네이밍 -->
							<!-------------------------------------------------------->
						</td>
					</tr>
					<tr>
						<td align="right" bgcolor="#E9E9E9">암 호</td>
						<td>
							<!---input put put----------------------------------------------------->
							<input type="password" name="pwd" class="pwd" size=10>
							<!-------------------------------------------------------->
						</td>
					</tr>
					</table>
					<!-------------------------------------------------------->
				</td>
			</tr>
			<tr>
				<td align=center>




					<!-------------------------------------------------------->
					<!-- 버튼을 클릭하면 자바스크립트 영역의 checkForm 함수 호출하기->
					<!-------------------------------------------------------->
					<input type="button" value="로그인" class="login_btn">






					<input type="reset" value="초기화">


					<!-------------------------------------------------------->
					<!-- 회원가입 글씨를 클릭하면 memberRegForm.html 페이지 열어주기-->
					<!-------------------------------------------------------->
					<div style="cursor:pointer" class="regMember_btn">[회원가입]</div>


				</td>
			</tr>
		<!-------------------------------------------------------->
		</table>
		<!-------------------------------------------------------->

	</form>

</center>
</body>

</html>