<!-- 
~~~~~~~~~~~~~~~~~~~~~~~~~~~
jquery_test_10.html
~~~~~~~~~~~~~~~~~~~~~~~~~~~
	=>문자열이 사라지면서 다른 문자열이 보이는 예제
	=>나타났다 사라지는 문자열의 개수는 div 태그 안의 목록들이다.
-->
<html>
<head>
	<meta charset="UTF-8">
	<script src="jquery-1.11.0.min.js"></script>  
	<script>

		//-------------------------------------------
		// 준비한 콘텐츠들을 차례대로 화면에 보이고 사라지게 하는 함수 선언
		//-------------------------------------------
		// 매개변수 
		// classV : 클래스 값을 받아오는 매개변수, 화면에 보여줄 콘텐츠를 내포하는 div 태그의 클래스 값  
		// idx : 화면에 보여줄 콘텐츠의 인덱스 번호
		//-------------------------------------------
		// 공용함수? 매개변수로 여러 종류의 데이터를 받아들여서 공용으로 사용할 수 있는 함수
		// 태그에 설정된 클래스 값은 JQuery, 자스 차원에서 어떤 경우에 사용하나? css 설정, 선택자
		//-------------------------------------------
		function changeText(classV, idx) {

			//-------------------------------------------
			// <1> class="classV매개변수저장데이터"를 가진 태그의 자식 태그를 관리하는 JQuery 객체 생성해서 obj 변수에 저장
			// <2> time 변수 선언, 초 시간 저장
			//-------------------------------------------
			var obj = $("."+classV).children();		// <1>
			var time = 2*1000;						// <2>

			//-------------------------------------------
			// class="classV매개변수저장데이터"를 가진 태그를 모두 감추기
			//-------------------------------------------
			obj.hide();						
			
			//-------------------------------------------
			// 특정 자식을 지칭하기 위한 인덱스 번호의 범위를 넘어서면 다시 0으로 초기화하기
			// 즉, idx 변수 안의 데이터가 0 ~ 자식태그개수-1 범위가 아니면 0으로 바꾸기
			//-------------------------------------------
			if( idx >= obj.length || idx < 0 ) { idx = 0; }
		
			//-------------------------------------------
			// <1> class="classV매개변수저장데이터" 중 인덱스 번호가 idx번째 태그를 보여주기
			// <2> class="classV매개변수저장데이터" 중 인덱스 번호가 idx번째 태그를 time 뒤에 투명해 지면서 안보이게 하기
			//-------------------------------------------
			obj.eq(idx).show();				// <1>
			obj.eq(idx).fadeOut(time);		// <2>
			
			//-------------------------------------------	
			// ★입사시험문제★
			//-------------------------------------------	
			// 1. fadeOut() 호출이 끝난 후 changeText() 함수를 호출할 것 같지만
			// 바로 호출해버려서 fadeOut() 함수가 강제로 중단 되었다.
			// 2. idx+1 가 계속 증가하면서 무한루프가 발생하였다.
			//-------------------------------------------	
			// changeText(classV, idx+1);
			
			//-------------------------------------------
			// setTimeout() 함수 호출하여 time 뒤에 익명함수 안의 실행구문을 실행한다
			// <1> (M.ver) changeText 함수를 호출할 때 idx+1 한후 obj.length의 나머지 값을 인덱스값으로 던져주었다.
			// <2> time 시간 뒤에 changeText(classV, idx+1) 실행하기 
			//-------------------------------------------
			setTimeout(function() {
				// changeText(classV, (idx+1)%obj.length);	// <1>
				changeText(classV, idx+1);					// <2>
			}, time);
			
			//-------------------------------------------
			// 위 코딩은 아래처럼도 가능하다.
			//-------------------------------------------	
			// 매개변수 idx에 저장된 인덱스번호에 해당하는 놈을 사라지게 한 후 
			// 함수 changeText("people", idx+1) 호출	
			//-------------------------------------------
			// fadeOut(시간, 익명함수)
			//-------------------------------------------
			// obj.eq(idx).fadeOut(time, function(){changeText(classV, idx+1);});	

		}

		//-------------------------------------------
		// body 태그 안의 콘텐츠를 모두 읽어들인 후 실행할 코드 설정하기
		//-------------------------------------------
		$(document).ready(function() {
			//-------------------------------------------
			// changeText 함수 호출하기
			//-------------------------------------------
			changeText("people", 0);
		});
		// JQ End
	</script>  
</head>

<body><center>
	<div class=people>
		<div>얀센형제</div>
		<div>저팔계</div>
		<div>사오정</div>
		<div>손오공</div>
		<div>한승태</div>
	</div>
</body>

</html>


