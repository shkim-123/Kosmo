<!-------------------------------------
jquery_08.html
---------------------------------------
	=>숫자만 입력받아 3자리마다 콤마를 제어 재입력하는 예제 -->
<html><meta charset="UTF-8">
<head>
	<script src = "jquery-1.11.0.min.js"></script>
	<script>
		//-------------------------------------------
		// $(document).ready(  function(){자스코딩}  );
		//-------------------------------------------
		// body 태그 안의 요소들을 읽어들인 후 익명함수 내부의 자스코딩을 실행.
		$(document).ready(function(){

			//-------------------------------------------
			// <1> class="money"를 가진 태그를 관리하는 JQuery 객체의 메위주 얻기
			// <2> 커서를 class="money" 가 있는 입력 양식에 들여놓는다.
			//-------------------------------------------
			var moneyObj = $(".money");		// <1>
			moneyObj.focus();				// <2>

			//-------------------------------------------
			// class="money" 를 가진 입력 양식에 [keyup 이벤트]가 발생하여 임의 자스 코딩 실행하기
			//-------------------------------------------
			moneyObj.keyup(function(){

				//-------------------------------------------
				// <1> thisObj 변수 선언, 지금 이 태그의 JQuery 객체 생성하여 메위주 저장
				// <2> money 변수 선언, keyup 이벤트가 발생한 입력 양식의 value 값
				// 	즉, 유저가 입력한 데이터를 자바스크립트 영역으로 가져와 money 변수에 저장
				// <3> 변수 arr 선언, 숫자만 골라서 저장할 Array 객체 변수 선언
				// <4> 변수 result 선언, 콤마를 포함한 최종 숫자 문자열을 저장할 변수 선언
				// <5> 변수 cnt 선언, 0으로 저장, 숫자를 하나씩 복사해 오는 개수를 저장할 변수 선언
				//-------------------------------------------
				var thisObj = $(this);			// <1>
				var money = thisObj.val();		// <2>
				var arr = [];					// <3>
				var result = "";				// <4>
				var cnt = 0;					// <5>

				//-------------------------------------------	
				// 변수 arr 에 money 변수 안의 데이터를 하나씩 낚아채서 숫자인 경우 저장
				//-------------------------------------------
				for(var i = 0; i < money.length; i++) {
					var str = money.charAt(i);
					if("0123456789".indexOf(str) >= 0) {
						arr.push(str);
					}
				}

				//-------------------------------------------
				// arr 변수 길이가 2 이상일 때 첫글자가 0 이면 첫글자를 잘라낸 arr를 복사해서 저장
				//------------------------------------------- 
				if(arr.length > 1 && arr[0] == "0") {
					arr = arr.slice(1, arr.length);
				}

				//-------------------------------------------
				// arr 변수 뒤에서부터 골라서 3의 배수에 (,)콤마 추가
				//-------------------------------------------
				for(var i = arr.length - 1 ; i >= 0 ; i--) {
					cnt++;
					if(cnt%3==0){
						arr[i] = "," +arr[i];
					}
				}

				//-------------------------------------------
				// result 변수에 arr 요소를 모두 붙여서 저장
				//-------------------------------------------
				result = arr.join("");

				//-------------------------------------------
				// 맨 앞이 콤마로 시작하면 콤마 이후 글자를 낚아채서 result를 넣어줌
				//-------------------------------------------
				if(result.indexOf(",") == 0) {		
					result = result.substr(1);		
				}

				//-------------------------------------------
				// keyup 이벤트가 일어난 입력양식에 result 변수 안의 데이터 삽입하기
				// this에 변수 num의 데이터 입력해주기
				//-------------------------------------------
				thisObj.val(result);
			});

		});
	</script>
</head>


<body><center>
	<input type="text" class="money" name="money" size=20 maxlength=13>원<br>
	<div class="msg"></div>
</body>
</html>
























