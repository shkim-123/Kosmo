<html>
<head>
	<meta charset="UTF-8">
	<title>로그인</title>
	
	<!-- common_func.js 파일을 수입해 온다. -->
	<script src = "common_func.js"></script>

	<!-- script 태그 선언 -->
	<!-- <script src = "common_func.js"> 이런식으로 script 태그를 하나로 사용하면
			수입해온 코드가 덮인다. 즉, checkForm() 함수를 사용할 수 없다. 매우 위험!! -->
	<script>
		// 자바스크립트 세상

		// 유저가 입력한 아이디와 암호의 유효성을 체크하는 checkForm 함수 선언
		// 함수 안의 코딩은 잠재적 코딩으로 함수의 이름을 불러야지만 실행된다
		function checkForm() {
			// alert("붕어싸만코 먹고싶다");
			
			// =============== 관점 1 =======================
			// 객체의 메모리위치 주소값 or 주소값이 저장된 변수.객체의 메소드 또는 속성변수
			// 유저가 입력한 아이디를 가져와 변수 uid에 저장하기
			// value는 Text 객체의 속성변수이다.
			// Text 객체는 <input type = "text" name = "uid" size = 10> 이 태그를 관리하는 객체이다 
			// =============== 관점2 ========================
			// <form name="loginForm" ~> 태그 안에
			// <input type-"text" name="uid" ~> 에 입력한 아이디를 구해서 자스 변수 uid에 저장하기
			// 지역변수 = 변수 안의 데이터
			var uid = document.loginForm.uid.value;
				
			// 유저가 입력한 아이디를 가져와 변수 pwd에 저장하기
			// Password 객체는 <input type = "password" name = "pwd" size = 10> 이 태그를 관리하는 객체이다
			var pwd = document.loginForm.pwd.value;

			
			/*

			// 만약에 유저가 입력한 아이디가 비어있거나 공백으로 이루어져 있으면
			// uid.split() 는 String 객체의 split() 메소드 호출, Array 객체를 리턴한다. 즉, Array 객체의 메모리 위치 주소값이 들어있다.
			// uid.split().join() 는 Array 객체의 join() 메소드 호출, 문자열 리턴
			if( uid.split(" ").join("") == "" ) {
				// 경고 상자 띄우기
				alert("아이디가 비어 있음. 입력 바람");
				// 함수 중단. 이후 코딩은 실행되지 않는다
				return; 
			} 

			// 만약에 암호가 비어있거나 공백으로 이루어져 있으면
			if( pwd.split(" ").join("") == "" ) {
				// 경고 상자 띄우기
				alert("암호가 비어 있음. 입력 바람");
				// 함수 중단. 이후 코딩은 실행되지 않는다
				return;
			}

			*/

			// 만약에 유저가 입력한 아이디가 비어있거나 공백으로 이루어져 있으면
			// isEmpty 함수 호출하여 true를 리턴 받으면, 즉 비어있거나 공백으로 이루어져 있으면
			if( isEmpty(uid) ) {
				// 경고 상자 띄우기
				alert("아이디가 비어 있음. 입력 바람");
				// 함수 중단. 이후 코딩은 실행되지 않는다
				return; 
			} 
			
			// 만약에 유저가 입력한 암호가 비어있거나 공백으로 이루어져 있으면
			if( isEmpty(pwd) ) {
				// 경고 상자 띄우기
				alert("암호가 비어 있음. 입력 바람");
				// 함수 중단. 이후 코딩은 실행되지 않는다
				return;
			}

			// DB 연동 대신 uid, pwd 체크
			// 만약에 아이디가 abc고 암호가 123 이면
			if( uid == "abc" && pwd == "123" ) {
				
				// confirm() 확인 버튼 누를 경우 true 리턴, 취소 버튼은 false 리턴
				// confirm() 내장 함수가 경고상자를 띄울 때는 프로그램이 잠시 중단되고, 선택하면 실행된다
				if( confirm("로그인 할까요?") ) {
					// form 태그의 설정한 서버쪽 URL 주소로 서버로 접근하기
					// 즉, 새로운 페이지 열기
					document.loginForm.submit();
				}

			} else {
				alert("아이디 또는 암호가 맞지 않습니다. 다시 입력해 주십시오.");
				// 아이디 입력란 비우기
				document.loginForm.uid.value = "";
				// 암호 입력란 비우기
				document.loginForm.pwd.value = "";
			}
			
		}
		
	</script>

</head>

<body>
<center>

	<!-- form 태그: 입력 양식을 단일화시켜 하나로 묶는 태그 -->
	<form name = "loginForm" action = "boardList.html">

	<br><br><br>
	<br>

	<table border = 0 cellpadding = 5> <!-- 책장 만드는 태그 -->
		
	<!-- 로그인 텍스트 -->
	<tr><th>[로그인]</th></tr> <!-- th는 기본이 가운데 정렬 / board -->

	<!-- 인풋  -->
	<tr><td align = center>  
		<!-- td는 기본이 왼쪽 정렬 / align = center로 가운데 정렬  -->
		
		<!-- block 형식 태그 -->
		<table border = 1 style ="border-collapse:collapse" cellpadding = 5 bordercolor = "lightgray"> 
			<tr> <!-- 행 -->
				<td align="right" bgcolor = "#E9E9E9">아이디</td>  <!-- 셀 -->
				<td><input type = "text" name = "uid" size = 10></td>
			</tr>
			<tr>
				<td align="right" bgcolor = "#E9E9E9">암 호</td>
				<td><input type = "password" name = "pwd" size = 10></td>
			</tr>
		</table>

	</td></tr>
	
	<!-- 로그인 버튼 -->
	<tr><td align = center>
		<!-- inline 형식 태그 -->
		<!-- 버튼을 클릭하면 자바스크립트 영역의 checkForm() 함수 호출하기 -->
		<input type = "button" value = "로그인" onClick = "checkForm();"> 
		<!-- submit은 선택 시 form 태그의 action url로 던진다 -->
		<!-- button은 사용자 정의 버튼 -->
		<!-- value는 화면에 나가는 텍스트 -->
		<input type = "reset" value = "초기화"> 
		<!-- reset은 선택 시 form 태그의 인풋 값을 초기화 시킨다 -->
			
		<br><br>

		<!-- 회원가입 글씨를 클릭하면 memberRegForm.html 페이지 열어주기 -->
		<div style="cursor:pointer" onClick = "location.replace('memberRegForm.html')">[회원가입]</div>

	</td></tr>

	</table>

	</form>
	<!-- /form -->

</center>
</body>

</html>